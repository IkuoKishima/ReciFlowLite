# ReciFlowLite

現場で使える「レシピ記録・参照」iOSアプリ。  
素早い入力導線と、材料入力エンジン（IngredientEngine）による編集体験、そして データ消失を起こさない信頼性を重視して設計しています。

- App Store：https://apps.apple.com/jp/app/reciflowlite/id6756988155
- Platform：iOS（iPad除外）
- Tech：Swift / SwiftUI / SQLite3
- GitHub：https://github.com/IkuoKishima/ReciFlowLite


---

## Why（なぜ作ったか）

私は調理師として約20年現場に立ち、  
過去のレシピを即座に参照・転用する場面を何度も経験してきました。

現場では、材料を順に口にしながら分量を決め、  
座って整理入力する余裕はありません。  
しかしレシピごとに癖があり、20種類以上の材料や段階調理を  
長期にわたり記憶し続けるのは現実的ではありません。

そこで本アプリでは、  
現場の会話順・思考順のまま入力できる構造を最優先に設計しました。

既存アプリやAPIではこの運用を再現できなかったため、  
SwiftUIは表示に限定し、  
制御はUIKitで担う構成としています。

この設計により、  
レシピ本やWebページのような「見やすさ」と、  
ローカル環境で即応できる「個人の記憶拡張」を両立しています。

これはクラウド管理型アプリではなく、  
物理手帳をデジタルで再現することを目的とした設計であり、  
将来的にフリップ型端末が主流になった際に  
真価を発揮すると考えています。


本プロジェクトは、もともと自作していた 独自遷移エンジン（入力導線プロトタイプ）を、
実運用できる“プロダクト”として成立させるために始めました。

2025年12月に「まずリリースする」ことを決め、設計を2段階に分けました。

### Phase 1：最小構成での初回リリース（v1.0.0）
- 15日で「レシピを保存できる」最小構成を実装し、App Store リリースの経験を獲得
- この段階ではプロトタイプの遷移Dockをあえて入れず、DBを壊さないこと（利用者の記録を消さないこと）を最優先

### Phase 2：本丸機能のアップデート（v1.1.0）
- 2026年1月から、アプリ中心機能である 縦横遷移（高速入力）を移植
- 複数ページとDB連携を伴う「入力エンジン統合」を行い、実運用を想定したUXへ拡張
- 遷移や処理圧迫で起きるキュー崩壊・クラッシュを避けるため、導線のリファクタリングと自己復旧ロジックを実装
- 長期運用の保険として、データ保護のエクスポート機能を追加

---

## Key Features（できること）
- レシピの追加・編集・削除
- 材料入力（IngredientEngine：縦/横の高速入力導線）
- レシピ一覧表示
- データ保護のエクスポート（長期運用のための保険）

Liteは「最小構成で実運用できること」を優先し、段階的に拡張しています。

---

## Highlights（このリポジトリの見どころ）
このリポジトリは、見た目だけでなく “壊れない運用”と “入力の速度”を成立させる設計を重視しています。

- 高速入力UX：フォーカス制御の一元化、縦横遷移、補助UI（Dock）による移動の最適化
- 堅牢性：DB整合性を崩さない設計、想定外クラッシュに備えた自己復旧
- データ保護：長期運用を前提にしたエクスポート機能

---

## Architecture（設計）
責務を分離し、UIとロジック、永続化を分けています。

- View：UI（表示・入力）
- Store：状態管理（ObservableObject）
- Engine：入力体験のコア（IngredientEngine / FocusRouter など）
- Persistence：SQLite3（永続化・復旧・エクスポート）

詳細メモ：`docs/TECH_NOTES.md`

---

## Release Notes
- `release-1.0.0` (2025-12-25)：初回リリース（最小構成・信頼性優先）
- `release-1.1.0` (2026-01-16)：縦横遷移の導入、自己復旧、エクスポート
- `release-1.1.1` (2026-01-18)：ボタン配置の最適化、リキッドデザインの統一

※ 本リポジトリは「設計意図が伝わること」を重視し、実運用を前提とした実装を公開しています。
※ 詳細な設計判断や制約は docs/TECH_NOTES.md に記載しています。


---

## How to Build
1. Xcode で `ReciFlowLite.xcodeproj` を開く
2. 実機 or シミュレータで実行

※注意：DBは端末ローカルに作成されます。
